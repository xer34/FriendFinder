<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Friendishster</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css"
      integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto"
      rel="stylesheet"
    />
    <style>
      body{
        font-family: 'Roboto', sans-serif;
      }
      #gradient {
        width: 100%;
        height: 100%;
        padding: 0px;
        margin: 0px;
      }
    </style>
  </head>
  <body>
    <div id="gradient">
      <div class="container" style="max-width: 50%; background: transparent;">
        <h2>Survey Questions</h2>
        <hr />
        <h3>About You</h3>
        <h4>Name or Alias or XBOX Live Handle.</h4>
        <input type="text" id="name" class="form-control" required />
        <h4>
          Link to Photo Image. Any photo image. Doesn't even have to be you.
        </h4>
        <input type="text" id="photo" class="form-control" required />
        <hr />
        <h3><strong>Question 1</strong></h3>
        <h4>You injure yourself often, and typically in hilarious fashion.</h4>
        <select class="chosen-select" id="q1">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option> </select
        ><br /><br />
        <h3><strong>Question 2</strong></h3>
        <h4>
          Generally speaking, most movies would be better if made into musicals.
        </h4>
        <select class="chosen-select" id="q2">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option> </select
        ><br /><br />
        <h3><strong>Question 3</strong></h3>
        <h4>
          You find it would be easier to fight 10 duck sized horses than one
          horse sized duck.
        </h4>
        <select class="chosen-select" id="q3">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option> </select
        ><br /><br />
        <h3><strong>Question 4</strong></h3>
        <h4>Fedoras are all around cool hats, regardless of the wearer.</h4>
        <select class="chosen-select" id="q4">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option> </select
        ><br /><br />
        <h3><strong>Question 5</strong></h3>
        <h4>Inanimate objects upset you easily.</h4>
        <select class="chosen-select" id="q5">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option> </select
        ><br /><br />
        <h3><strong>Question 6</strong></h3>
        <h4>
          When in other peoples homes, you go out of your way to do weird
          things.
        </h4>
        <select class="chosen-select" id="q6">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option> </select
        ><br /><br />
        <h3><strong>Question 7</strong></h3>
        <h4>Children under 5 are generally scary and should not be trusted.</h4>
        <select class="chosen-select" id="q7">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option> </select
        ><br /><br />
        <h3><strong>Question 8</strong></h3>
        <h4>You're filled with ridiculous facts and useless trivia.</h4>
        <select class="chosen-select" id="q8">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option> </select
        ><br /><br />
        <h3><strong>Question 9</strong></h3>
        <h4>
          You have a job that is enjoyable, but is ultimately a waste of time
          and it serves no real purpose.
        </h4>
        <select class="chosen-select" id="q9">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option> </select
        ><br /><br />
        <h3><strong>Question 10</strong></h3>
        <h4>
          Most cults start out as great ideas, and if they weren't so cult-ey,
          you would probably join one.
        </h4>
        <select class="chosen-select" id="q10">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option> </select
        ><br /><br />
        <br />
        <br />
        <!-- Submit Button -->
        <button
        data-toggle="modal"
        data-target="#exampleModal"
          type="submit"
          class="btn btn-danger btn-lg btn-block"
          id="submit"
          onclick='runDaNumbers()'
        >
          </i> Submit
        </button>
        <hr />
      </div>
    </div>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
    <!-------------------------------------------- silly things to follow  ------------------------------------------>
    <script>
      var colors = new Array(
        [62, 35, 255],
        [60, 255, 60],
        [255, 35, 98],
        [45, 175, 230],
        [255, 0, 255],
        [255, 128, 0]
      );
      var step = 0;
      //color table indices for:
      // current color left
      // next color left
      // current color right
      // next color right
      var colorIndices = [0, 1, 2, 3];
      //transition speed
      var gradientSpeed = 0.002;
      function updateGradient() {
        if ($ === undefined) return;
        var c0_0 = colors[colorIndices[0]];
        var c0_1 = colors[colorIndices[1]];
        var c1_0 = colors[colorIndices[2]];
        var c1_1 = colors[colorIndices[3]];
        var istep = 1 - step;
        var r1 = Math.round(istep * c0_0[0] + step * c0_1[0]);
        var g1 = Math.round(istep * c0_0[1] + step * c0_1[1]);
        var b1 = Math.round(istep * c0_0[2] + step * c0_1[2]);
        var color1 = "rgb(" + r1 + "," + g1 + "," + b1 + ")";
        var r2 = Math.round(istep * c1_0[0] + step * c1_1[0]);
        var g2 = Math.round(istep * c1_0[1] + step * c1_1[1]);
        var b2 = Math.round(istep * c1_0[2] + step * c1_1[2]);
        var color2 = "rgb(" + r2 + "," + g2 + "," + b2 + ")";
        $("#gradient")
          .css({
            background:
              "-webkit-gradient(linear, left top, right top, from(" +
              color1 +
              "), to(" +
              color2 +
              "))"
          })
          .css({
            background:
              "-moz-linear-gradient(left, " +
              color1 +
              " 0%, " +
              color2 +
              " 100%)"
          });
        step += gradientSpeed;
        if (step >= 1) {
          step %= 1;
          colorIndices[0] = colorIndices[1];
          colorIndices[2] = colorIndices[3];
          //pick two new target color indices
          //do not pick the same as the current one
          colorIndices[1] =
            (colorIndices[1] +
              Math.floor(1 + Math.random() * (colors.length - 1))) %
            colors.length;
          colorIndices[3] =
            (colorIndices[3] +
              Math.floor(1 + Math.random() * (colors.length - 1))) %
            colors.length;
        }
      }
      setInterval(updateGradient, 10);
    </script>
    <script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js"
      integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em"
      crossorigin="anonymous"
    ></script>
    <!-- ------------------------------------------ -->
<script type="text/javascript">
  // Capture the form inputs
  $("#submit").on("click", function(event) {
    event.preventDefault();
    // Form validation
    function validateForm() {
      var isValid = true;
      $(".form-control").each(function() {
        if ($(this).val() === "") {
          isValid = false;
        }
      });
      $(".chosen-select").each(function() {
        if ($(this).val() === "") {
          isValid = false;
        }
      });
      return isValid;
    }
    // If all required fields are filled
    if (validateForm()) {
      // Create an object for the user"s data
      var friends = {
        name: $("#name").val(),
        photo: $("#photo").val(),
        scores: [
          $("#q1").val(),
          $("#q2").val(),
          $("#q3").val(),
          $("#q4").val(),
          $("#q5").val(),
          $("#q6").val(),
          $("#q7").val(),
          $("#q8").val(),
          $("#q9").val(),
          $("#q10").val()
        ]
      };
      // AJAX post the data to the friends API.
      $.post("/api/friends", friends, function(data) {
          console.log(friends)
          console.log("Dude pushed to array")
          console.log(friends.scores)
      });
    } else {
      alert("Please answer all of the silly questions please!");
    }
  });
</script>
  </body>
</html>
